{"ast":null,"code":"var _jsxFileName = \"/Users/mojib2014/Desktop/projects/blog-client/src/components/getStarted.jsx\";\nimport React, { PureComponent } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport GoogleLogin from \"react-google-login\";\nimport FacebookLogin from \"react-facebook-login\";\nimport Signup from \"./signup\";\nimport Footer from \"./footer\";\nimport userService from \"../services/userService\";\nimport auth from \"../services/auth\";\nimport http from \"../services/httpService\";\nimport \"../assets/css/getStarted.css\";\n\nclass GetStarted extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    this.responseGoogle = async res => {\n      http.setJwtToken(res.tokenId);\n      const profileObj = res.profileObj;\n      const user = {\n        name: profileObj.name,\n        username: profileObj.email,\n        imageUrl: profileObj.imageUrl,\n        googleId: profileObj.googleId\n      };\n\n      try {\n        const response = await userService.registerUser(user);\n        const jwt = response.headers[\"x-auth-token\"];\n        auth.loginWithJwt(jwt);\n      } catch (err) {\n        if (err.response && err.response.status === 400) {\n          toast.error(err.response.data);\n        }\n      }\n\n      window.location = \"/\";\n    };\n\n    this.onGoogleFail = res => {\n      toast.error(\"Google Signup Failed\", res);\n    };\n\n    this.responseFacebook = async res => {\n      http.setJwtToken(res.signedRequest);\n\n      try {\n        const user = {\n          name: res.name,\n          username: res.email,\n          imageUrl: res.picture.data.url,\n          facebookId: res.userID\n        };\n        const response = await userService.registerUser(user);\n        auth.loginWithJwt(response.headers[\"x-auth-token\"]);\n        window.location = \"/\";\n      } catch (err) {\n        toast.error(err.response.data);\n      }\n    };\n\n    this.componentClicked = () => {\n      console.log(\"facebook button clicked\");\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"getstarted-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, \"Join M&M.\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"google-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(GoogleLogin, {\n      clientId: process.env.REACT_APP_G_CLIENT_ID,\n      buttonText: \"Sign In With Google\",\n      onSuccess: this.responseGoogle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"facebook-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FacebookLogin, {\n      appId: process.env.REACT_APP_F_APP_ID,\n      fields: \"name,email,picture\",\n      onClick: this.componentClicked,\n      callback: this.responseFacebook,\n      cssClass: \"my-facebook-button-class\",\n      icon: \"fa-facebook\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Signup, {\n      onSignup: this.handleEmailSignup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"already-have-account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, \"Already have an account?\", /*#__PURE__*/React.createElement(Link, {\n      className: \"account-signin\",\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, \"Sign in\")))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default GetStarted;","map":{"version":3,"sources":["/Users/mojib2014/Desktop/projects/blog-client/src/components/getStarted.jsx"],"names":["React","PureComponent","Link","toast","GoogleLogin","FacebookLogin","Signup","Footer","userService","auth","http","GetStarted","responseGoogle","res","setJwtToken","tokenId","profileObj","user","name","username","email","imageUrl","googleId","response","registerUser","jwt","headers","loginWithJwt","err","status","error","data","window","location","onGoogleFail","responseFacebook","signedRequest","picture","url","facebookId","userID","componentClicked","console","log","render","process","env","REACT_APP_G_CLIENT_ID","REACT_APP_F_APP_ID","handleEmailSignup"],"mappings":"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","sourcesContent":["import React, { PureComponent } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport GoogleLogin from \"react-google-login\";\nimport FacebookLogin from \"react-facebook-login\";\n\nimport Signup from \"./signup\";\nimport Footer from \"./footer\";\nimport userService from \"../services/userService\";\nimport auth from \"../services/auth\";\nimport http from \"../services/httpService\";\n\nimport \"../assets/css/getStarted.css\";\n\nclass GetStarted extends PureComponent {\n  responseGoogle = async (res) => {\n    http.setJwtToken(res.tokenId);\n    const profileObj = res.profileObj;\n    const user = {\n      name: profileObj.name,\n      username: profileObj.email,\n      imageUrl: profileObj.imageUrl,\n      googleId: profileObj.googleId,\n    };\n    try {\n      const response = await userService.registerUser(user);\n      const jwt = response.headers[\"x-auth-token\"];\n      auth.loginWithJwt(jwt);\n    } catch (err) {\n      if (err.response && err.response.status === 400) {\n        toast.error(err.response.data);\n      }\n    }\n\n    window.location = \"/\"; \n  };\n\n  onGoogleFail = (res) => {\n    toast.error(\"Google Signup Failed\", res);\n  };\n\n  responseFacebook = async (res) => {\n    http.setJwtToken(res.signedRequest);\n\n    try {\n      const user = {\n        name: res.name,\n        username: res.email,\n        imageUrl: res.picture.data.url,\n        facebookId: res.userID,\n      };\n\n      const response = await userService.registerUser(user);\n      auth.loginWithJwt(response.headers[\"x-auth-token\"]);\n      window.location = \"/\";\n    } catch (err) {\n      toast.error(err.response.data);\n    }\n  };\n\n  componentClicked = () => {\n    console.log(\"facebook button clicked\");\n  };\n\n  render() {\n    return (\n      <>\n        <div className=\"getstarted-div\">\n          <h3>Join M&M.</h3>\n          <div className=\"google-btn\">\n            <GoogleLogin\n              clientId={process.env.REACT_APP_G_CLIENT_ID}\n              buttonText=\"Sign In With Google\"\n              onSuccess={this.responseGoogle}\n            />\n          </div>\n          <div className=\"facebook-btn\">\n            <FacebookLogin\n              appId={process.env.REACT_APP_F_APP_ID}\n              fields=\"name,email,picture\"\n              onClick={this.componentClicked}\n              callback={this.responseFacebook}\n              cssClass=\"my-facebook-button-class\"\n              icon=\"fa-facebook\"\n            />\n          </div>\n          <Signup onSignup={this.handleEmailSignup} />\n          <div className=\"already-have-account\">\n            <p>\n              Already have an account?\n              <Link className=\"account-signin\" to=\"/login\">\n                Sign in\n              </Link>\n            </p>\n          </div>\n        </div>\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport default GetStarted;\n"]},"metadata":{},"sourceType":"module"}