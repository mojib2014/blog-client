{"ast":null,"code":"var _jsxFileName = \"/Users/mojib2014/Desktop/projects/blog-client/src/components/authorProfile.jsx\";\nimport React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport Footer from \"./footer\";\nimport topicService from \"../services/topicService\";\nimport SocialIcons from \"./socialIcon\";\nimport auth from \"../services/auth\";\nimport userService from \"../services/userService\";\nimport \"../assets/css/profile.css\";\n\nclass AuthorProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      topics: [],\n      user: {},\n      users: []\n    };\n\n    this.fetchTopics = async () => {\n      const {\n        data: topics\n      } = await topicService.getTopics();\n      this.setState({\n        topics\n      });\n    };\n  }\n\n  async componentDidMount() {\n    this.fetchTopics();\n    this.fetchUsers();\n    this.fetchCurrUser();\n  }\n\n  async fetchUsers() {\n    const {\n      data: users\n    } = await userService.getUsers();\n    this.setState({\n      users\n    });\n  }\n\n  async fetchCurrUser() {\n    const user = await auth.getCurrentUser();\n    this.setState({\n      user\n    });\n  }\n\n  getAuthorTopics() {\n    const {\n      topics\n    } = this.state;\n    const authorId = this.props.match.params.id;\n    return topics.filter(topic => topic.author._id === authorId);\n  }\n\n  findAuthor() {\n    const {\n      topics,\n      users\n    } = this.state;\n    const followerId = this.props.match.params.id;\n    let author;\n    topics.filter(topic => topic.author._id === followerId ? author = topic.author : users.filter(user => user._id === followerId ? author = user : null));\n    return author;\n  }\n\n  findFollowers() {\n    const {\n      users\n    } = this.state;\n    const followerId = this.props.match.params.id;\n    return users.filter(user => user._id === followerId);\n  }\n\n  render() {\n    const authorTopics = this.getAuthorTopics();\n    const author = this.findAuthor();\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SocialIcons, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, author && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    }, \"Full Name: \"), \" \", author.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }\n    }, \"Email: \"), \" \", author.email), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 19\n      }\n    }, \"Publications: \"), author ? author.publications : 0), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }, \"Followers: \"), author.followers ? author.followers.length : 0), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }, \"Following: \"), author.following ? author.following.length : 0)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column-right profile-img-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, author.imageUrl ? /*#__PURE__*/React.createElement(\"img\", {\n      src: author.imageUrl,\n      alt: \"user avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-user-circle\",\n      style: {\n        fontSize: \"70px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row topic-list-row profile-topics\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, `${author && author.name}'s`, \" Publications\"), authorTopics ? authorTopics.map(topic => /*#__PURE__*/React.createElement(\"div\", {\n      key: topic._id,\n      className: \"topic-list-column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: author ? `/${topic.title}/${topic._id}` : \"/getstarted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-img-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: topic.imageUrl,\n      alt: \"programming avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 27\n      }\n    }, topic.title), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 27\n      }\n    }, `${topic.description.split(\"\").splice(0, 40).join(\"\")}...`)))))) : \"This user haven't publish yet!\")), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default AuthorProfile;","map":{"version":3,"sources":["/Users/mojib2014/Desktop/projects/blog-client/src/components/authorProfile.jsx"],"names":["React","Component","NavLink","Footer","topicService","SocialIcons","auth","userService","AuthorProfile","state","topics","user","users","fetchTopics","data","getTopics","setState","componentDidMount","fetchUsers","fetchCurrUser","getUsers","getCurrentUser","getAuthorTopics","authorId","props","match","params","id","filter","topic","author","_id","findAuthor","followerId","findFollowers","render","authorTopics","name","email","publications","followers","length","following","imageUrl","fontSize","map","title","description","split","splice","join"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport Footer from \"./footer\";\nimport topicService from \"../services/topicService\";\nimport SocialIcons from \"./socialIcon\";\nimport auth from \"../services/auth\";\nimport userService from \"../services/userService\";\n\nimport \"../assets/css/profile.css\";\n\nclass AuthorProfile extends Component {\n  state = {\n    topics: [],\n    user: {},\n    users: [],\n  };\n\n  async componentDidMount() {\n    this.fetchTopics();\n    this.fetchUsers();\n    this.fetchCurrUser();\n  }\n\n  async fetchUsers() {\n    const { data: users } = await userService.getUsers();\n    this.setState({ users });\n  }\n\n  async fetchCurrUser() {\n    const user = await auth.getCurrentUser();\n    this.setState({ user });\n  }\n\n  fetchTopics = async () => {\n    const { data: topics } = await topicService.getTopics();\n    this.setState({ topics });\n  };\n\n  getAuthorTopics() {\n    const { topics } = this.state;\n    const authorId = this.props.match.params.id;\n\n    return topics.filter((topic) => topic.author._id === authorId);\n  }\n\n  findAuthor() {\n    const { topics, users } = this.state;\n    const followerId = this.props.match.params.id;\n\n    let author;\n    topics.filter((topic) =>\n      topic.author._id === followerId\n        ? (author = topic.author)\n        : users.filter((user) =>\n            user._id === followerId ? (author = user) : null\n          )\n    );\n    return author;\n  }\n\n  findFollowers() {\n    const { users } = this.state;\n    const followerId = this.props.match.params.id;\n\n    return users.filter((user) => user._id === followerId);\n  }\n\n  render() {\n    const authorTopics = this.getAuthorTopics();\n    const author = this.findAuthor();\n    return (\n      <>\n        <SocialIcons />\n\n        <div className=\"profile-div\">\n          {author && (\n            <div className=\"profile-row\">\n              <div className=\"column-left\">\n                <p>\n                  <strong>Full Name: </strong> {author.name}\n                </p>\n                <p>\n                  <strong>Email: </strong> {author.email}\n                </p>\n                <p>\n                  <strong>Publications: </strong>\n                  {author ? author.publications : 0}\n                </p>\n                <p>\n                  <strong>Followers: </strong>\n                  {author.followers ? author.followers.length : 0}\n                </p>\n                <p>\n                  <strong>Following: </strong>\n                  {author.following ? author.following.length : 0}\n                </p>\n              </div>\n              <div className=\"column-right profile-img-div\">\n                {author.imageUrl ? (\n                  <img src={author.imageUrl} alt=\"user avatar\" />\n                ) : (\n                  <i\n                    className=\"fa fa-user-circle\"\n                    style={{ fontSize: \"70px\" }}\n                  />\n                )}\n              </div>\n            </div>\n          )}\n          <div className=\"row topic-list-row profile-topics\">\n            <h2>{`${author && author.name}'s`} Publications</h2>\n            {authorTopics\n              ? authorTopics.map((topic) => (\n                  <div key={topic._id} className=\"topic-list-column\">\n                    <NavLink\n                      to={\n                        author ? `/${topic.title}/${topic._id}` : \"/getstarted\"\n                      }\n                    >\n                      <div className=\"card\">\n                        <div className=\"card-img-div\">\n                          <img src={topic.imageUrl} alt=\"programming avatar\" />\n                        </div>\n                        <div className=\"card-body\">\n                          <h5 className=\"card-title\">{topic.title}</h5>\n                          <p className=\"card-text\">\n                            {`${topic.description\n                              .split(\"\")\n                              .splice(0, 40)\n                              .join(\"\")}...`}\n                          </p>\n                        </div>\n                      </div>\n                    </NavLink>\n                  </div>\n                ))\n              : \"This user haven't publish yet!\"}\n          </div>\n        </div>\n\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport default AuthorProfile;\n"]},"metadata":{},"sourceType":"module"}