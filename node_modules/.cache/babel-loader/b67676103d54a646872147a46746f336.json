{"ast":null,"code":"var _jsxFileName = \"/Users/mojib2014/Desktop/projects/blog-client/src/components/author.jsx\";\nimport React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport followingService from \"../services/followingService\";\nimport SocialIcons from \"./socialIcon\";\nimport \"../assets/css/author.css\";\n\nclass Author extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleFollow = async author => {\n      const {\n        user\n      } = this.props;\n      author.isFollowing = !author.isFollowing;\n\n      if (user && author.isFollowing === true) {\n        if (user._id === author._id) return null;\n\n        try {\n          this.setState({\n            author\n          });\n          await followingService.follow(user, author);\n        } catch (err) {\n          toast.info(err.response.data);\n        }\n      }\n\n      if (user && author.isFollowing === false) {\n        if (user._id === author._id) return null;\n\n        try {\n          this.setState({\n            author\n          });\n          await followingService.unfollow(user, author);\n        } catch (err) {\n          toast.info(err.response.data);\n        }\n      }\n    };\n  }\n\n  render() {\n    const author = this.props.item.author;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, author ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SocialIcons, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column side\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: `/author-profile/${author._id}`,\n      id: \"author-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: author.imageUrl,\n      alt: \"author avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        marginBottom: \"3px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, author.name), `@${author.email ? author.email.split(\"\").splice(0, author.email.indexOf(\"@\")).join(\"\") : null}`, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, `publications: ${author.publications}`), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, `Followers: ${author.followers ? author.followers.length : 0}`), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, `following: ${author.following ? author.following.length : 0}`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"follow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.handleFollow(author),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, author.isFollowing === true ? \"Unfollow\" : \"Follow\")))) : null);\n  }\n\n}\n\nAuthor.propTypes = {\n  user: PropTypes.object,\n  item: PropTypes.object\n};\nexport default Author;","map":{"version":3,"sources":["/Users/mojib2014/Desktop/projects/blog-client/src/components/author.jsx"],"names":["React","Component","toast","NavLink","PropTypes","followingService","SocialIcons","Author","handleFollow","author","user","props","isFollowing","_id","setState","follow","err","info","response","data","unfollow","render","item","imageUrl","marginBottom","name","email","split","splice","indexOf","join","publications","followers","length","following","propTypes","object"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nimport followingService from \"../services/followingService\";\nimport SocialIcons from \"./socialIcon\";\n\nimport \"../assets/css/author.css\";\n\nclass Author extends Component {\n  handleFollow = async (author) => {\n    const { user } = this.props;\n    author.isFollowing = !author.isFollowing;\n\n    if (user && author.isFollowing === true) {\n      if (user._id === author._id) return null;\n      try {\n        this.setState({ author });\n        await followingService.follow(user, author);\n      } catch (err) {\n        toast.info(err.response.data);\n      }\n    }\n\n    if (user && author.isFollowing === false) {\n      if (user._id === author._id) return null;\n      try {\n        this.setState({ author });\n        await followingService.unfollow(user, author);\n      } catch (err) {\n        toast.info(err.response.data);\n      }\n    }\n  };\n\n  render() {\n    const author = this.props.item.author;\n    return (\n      <>\n        {author ? (\n          <>\n            <SocialIcons />\n            <div className=\"column side\">\n              <NavLink to={`/author-profile/${author._id}`} id=\"author-link\">\n                <img src={author.imageUrl} alt=\"author avatar\" />\n                <p style={{ marginBottom: \"3px\" }}>{author.name}</p>\n                {`@${\n                  author.email\n                    ? author.email\n                        .split(\"\")\n                        .splice(0, author.email.indexOf(\"@\"))\n                        .join(\"\")\n                    : null\n                }`}\n\n                <p>{`publications: ${author.publications}`}</p>\n                <p>{`Followers: ${\n                  author.followers ? author.followers.length : 0\n                }`}</p>\n                <p>{`following: ${\n                  author.following ? author.following.length : 0\n                }`}</p>\n              </NavLink>\n              <div className=\"follow\">\n                <button onClick={() => this.handleFollow(author)}>\n                  {author.isFollowing === true ? \"Unfollow\" : \"Follow\"}\n                </button>\n              </div>\n            </div>\n          </>\n        ) : null}\n      </>\n    );\n  }\n}\n\nAuthor.propTypes = {\n  user: PropTypes.object,\n  item: PropTypes.object,\n};\n\nexport default Author;\n"]},"metadata":{},"sourceType":"module"}